# –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤ ‚úÖ

> –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 1 –æ–∫—Ç—è–±—Ä—è 2025  
> –°—Ç–∞—Ç—É—Å: ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û  
> –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: HIGH

---

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–Ω–≥–æ–≤ –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π. HR-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–Ω–≥–∏
- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã —Ä–∞–Ω–≥–æ–≤
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Database Schema)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `prisma/schema.prisma`:**

```prisma
model Rank {
  id                   String   @id @default(cuid())
  campaignId           String? // null = –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–∞–Ω–≥
  level                Int
  name                 String
  title                String
  description          String?
  iconUrl              String? // –ö–∞—Å—Ç–æ–º–Ω–∞—è –∏–∫–æ–Ω–∫–∞
  minExperience        Int      @default(0)
  minMissions          Int      @default(0)
  requiredCompetencies Json?
  rewards              Json?
  createdAt            DateTime @default(now())
  
  campaign Campaign? @relation(...)
  
  @@unique([campaignId, level])
  @@index([campaignId])
}

model Campaign {
  // ... existing fields
  ranks     Rank[] // –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–Ω–≥–∏
}
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- `campaignId` nullable ‚Äî —Ä–∞–Ω–≥–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –∏–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫ –∫–∞–º–ø–∞–Ω–∏–∏
- –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `[campaignId, level]` ‚Äî –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –Ω–∞ –∫–∞–º–ø–∞–Ω–∏—é
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ `iconUrl`

### ‚úÖ 2. API Endpoints

#### GET `/api/campaigns/[id]/ranks`
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–∞–Ω–≥–∏ –∫–∞–º–ø–∞–Ω–∏–∏ (–∫–∞—Å—Ç–æ–º–Ω—ã–µ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ)

**Response:**
```json
{
  "ranks": [...],
  "isCustom": true
}
```

#### POST `/api/campaigns/[id]/ranks`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞–Ω–≥ –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–∏

**Request Body:**
```json
{
  "level": 3,
  "name": "–ö–∞–ø–∏—Ç–∞–Ω",
  "title": "–ö–æ–º–∞–Ω–¥–∏—Ä –∑–≤—ë–∑–¥–Ω–æ–≥–æ –∫–æ—Ä–∞–±–ª—è",
  "description": "–õ–∏–¥–µ—Ä —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏",
  "iconUrl": "/ranks/captain.svg",
  "minExperience": 500,
  "minMissions": 8,
  "requiredCompetencies": {
    "–õ–∏–¥–µ—Ä—Å—Ç–≤–æ": 5,
    "–ù–∞–≤–∏–≥–∞—Ü–∏—è": 7
  },
  "rewards": {
    "mana": 300,
    "badge": "captain_wings"
  }
}
```

#### PUT `/api/campaigns/[id]/ranks/[rankId]`
–û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ä–∞–Ω–≥

#### DELETE `/api/campaigns/[id]/ranks/[rankId]`
–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–∞–Ω–≥

#### DELETE `/api/campaigns/[id]/ranks`
–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–Ω–≥–∏ (–≤–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º)

#### POST `/api/campaigns/[id]/ranks/clone-defaults`
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏ –≤ –∫–∞–º–ø–∞–Ω–∏—é –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

### ‚úÖ 3. –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–Ω–≥–æ–≤

**–§–∞–π–ª: `lib/ranks.ts`**

–§—É–Ω–∫—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç campaign-specific —Ä–∞–Ω–≥–∏:

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —Å —É—á—ë—Ç–æ–º –∫–∞–º–ø–∞–Ω–∏–∏
checkAndPromoteRank(userId: string, campaignId?: string)

// –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ä–∞–Ω–≥–∞–º –∫–∞–º–ø–∞–Ω–∏–∏
getUserRankProgress(userId: string, campaignId?: string)

// –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–Ω–≥–æ–≤
getRanksForUser(userId: string, campaignId?: string)
```

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–∞–Ω–≥–æ–≤:**
1. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `campaignId` ‚Äî –∏—â–µ—Ç —Ä–∞–Ω–≥–∏ –∫–∞–º–ø–∞–Ω–∏–∏
2. –ï—Å–ª–∏ —É –∫–∞–º–ø–∞–Ω–∏–∏ –µ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–Ω–≥–∏ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö
3. –ò–Ω–∞—á–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏ (fallback)

### ‚úÖ 4. –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–Ω–≥–∏ –¥–ª—è —Ç–µ–º

**–§–∞–π–ª: `data/theme-presets.ts`**

–î–æ–±–∞–≤–ª–µ–Ω—ã –≥–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã —Ä–∞–Ω–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–µ–º—ã:

#### üåå Galactic Academy (–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞)
1. **–ò—Å–∫–∞—Ç–µ–ª—å** (Lv 1) ‚Äî –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Å–∫–∏—Ç–∞–ª–µ—Ü
2. **–ü–∏–ª–æ—Ç-–∫–∞–Ω–¥–∏–¥–∞—Ç** (Lv 2) ‚Äî –ù–æ–≤–∏—á–æ–∫ —Å—Ä–µ–¥–∏ –∑–≤—ë–∑–¥
3. **–ö–∞–¥–µ—Ç** (Lv 3) ‚Äî –ë–æ—Ä—Ç–æ–≤–æ–π –æ—Ñ–∏—Ü–µ—Ä
4. **–ù–∞–≤–∏–≥–∞—Ç–æ—Ä** (Lv 4) ‚Äî –ó–≤—ë–∑–¥–Ω—ã–π —à—Ç—É—Ä–º–∞–Ω
5. **–ö–∞–ø–∏—Ç–∞–Ω** (Lv 5) ‚Äî –ö–æ–º–∞–Ω–¥–∏—Ä –∑–≤—ë–∑–¥–Ω–æ–≥–æ –∫–æ—Ä–∞–±–ª—è

#### üè¢ Corporate Metropolis (–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞)
1. **–°—Ç–∞–∂—ë—Ä** (Lv 1) ‚Äî –ú–ª–∞–¥—à–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç
2. **–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç** (Lv 2) ‚Äî –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª —Å–≤–æ–µ–≥–æ –¥–µ–ª–∞
3. **–°—Ç–∞—Ä—à–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç** (Lv 3) ‚Äî –≠–∫—Å–ø–µ—Ä—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. **–ú–µ–Ω–µ–¥–∂–µ—Ä** (Lv 4) ‚Äî –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤
5. **–î–∏—Ä–µ–∫—Ç–æ—Ä** (Lv 5) ‚Äî –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π –ª–∏–¥–µ—Ä

#### üå± ESG Mission (–≠–∫–æ-—Ç–µ–º–∞)
1. **–í–æ–ª–æ–Ω—Ç—ë—Ä** (Lv 1) ‚Äî –ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ê–∫—Ç–∏–≤–∏—Å—Ç** (Lv 2) ‚Äî –ó–∞—â–∏—Ç–Ω–∏–∫ –ø—Ä–∏—Ä–æ–¥—ã
3. **–ê–º–±–∞—Å—Å–∞–¥–æ—Ä** (Lv 3) ‚Äî –ì–æ–ª–æ—Å –ø–µ—Ä–µ–º–µ–Ω
4. **–•—Ä–∞–Ω–∏—Ç–µ–ª—å** (Lv 4) ‚Äî –ó–∞—â–∏—Ç–Ω–∏–∫ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã
5. **–í–∏–∑–∏–æ–Ω–µ—Ä** (Lv 5) ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –±—É–¥—É—â–µ–≥–æ

#### ü§ñ Cyberpunk Hub (–ö–∏–±–µ—Ä–ø–∞–Ω–∫)
1. **–ù–æ–≤–∏—á–æ–∫** (Lv 1) ‚Äî –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞: Basic
2. **–•–∞–∫–µ—Ä** (Lv 2) ‚Äî –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞: Elevated
3. **Netrunner** (Lv 3) ‚Äî –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞: Advanced
4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä** (Lv 4) ‚Äî –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞: Elite
5. **–õ–µ–≥–µ–Ω–¥–∞** (Lv 5) ‚Äî –£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞: Omniscient

#### üî¨ Scientific Expedition (–ù–∞—É—á–Ω–∞—è)
1. **–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç** (Lv 1) ‚Äî –ú–ª–∞–¥—à–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
2. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å** (Lv 2) ‚Äî –ù–∞—É—á–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
3. **–£—á—ë–Ω—ã–π** (Lv 3) ‚Äî –ö–∞–Ω–¥–∏–¥–∞—Ç –Ω–∞—É–∫
4. **–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä** (Lv 4) ‚Äî –î–æ–∫—Ç–æ—Ä –Ω–∞—É–∫
5. **–ê–∫–∞–¥–µ–º–∏–∫** (Lv 5) ‚Äî –ß–ª–µ–Ω –∞–∫–∞–¥–µ–º–∏–∏ –Ω–∞—É–∫

### ‚úÖ 5. UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç

**–§–∞–π–ª: `components/constructor/RankCustomizationPanel.tsx`**

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–Ω–≥–∞–º–∏ —Å:

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- üìã –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–∞–Ω–≥–æ–≤ (–≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö)
- ‚úèÔ∏è Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–∞–Ω–≥–æ–≤
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤
- üîÑ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ä–∞–Ω–≥–æ–≤
- üé® –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞–Ω–≥–æ–≤
- ‚Ü©Ô∏è –í–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Ä–∞–Ω–≥–∞–º

#### UI Features:
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–∞–Ω–≥–æ–≤ —Å hover-—ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã (Framer Motion)
- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª—è–º–∏:
  - –£—Ä–æ–≤–µ–Ω—å (level)
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ —Ç–∏—Ç—É–ª
  - –û–ø–∏—Å–∞–Ω–∏–µ
  - –ò–∫–æ–Ω–∫–∞ URL
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (XP, –º–∏—Å—Å–∏–∏)
  - –¢—Ä–µ–±—É–µ–º—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
  - –ù–∞–≥—Ä–∞–¥—ã (–º–∞–Ω–∞, –±–µ–π–¥–∂–∏)

### ‚úÖ 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Campaign Settings

**–§–∞–π–ª: `components/constructor/CampaignSettingsPanel.tsx`**

–ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ä–∞–Ω–≥–æ–≤":
- –†–∞—Å–∫—Ä—ã–≤–∞–µ–º–∞—è –ø–∞–Ω–µ–ª—å —Å –∏–∫–æ–Ω–∫–æ–π üèÜ
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ (HelpTooltip)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –º–µ–∂–¥—É "–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è" –∏ "–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫"

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª: `types/campaignTheme.ts`**

```typescript
export interface RankConfig {
  level: number;
  name: string;
  title: string;
  description?: string;
  iconUrl?: string;
  minExperience: number;
  minMissions: number;
  requiredCompetencies?: Record<string, number>;
  rewards?: {
    mana?: number;
    badge?: string;
    [key: string]: any;
  };
}

export interface CampaignThemeConfig {
  // ... existing fields
  customRanks?: RankConfig[]; // –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–Ω–≥–∏
}
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –î–ª—è HR-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞

#### –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–Ω–≥–∏ —Ç–µ–º—ã:
1. –û—Ç–∫—Ä—ã—Ç—å Campaign Settings
2. –†–∞—Å–∫—Ä—ã—Ç—å —Å–µ–∫—Ü–∏—é "–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ä–∞–Ω–≥–æ–≤"
3. –ù–∞–∂–∞—Ç—å "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–Ω–≥–∏ —Ç–µ–º—ã"
4. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç —Ä–∞–Ω–≥–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º—ã

#### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–Ω–≥–∏:
1. –ù–∞–∂–∞—Ç—å "–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ"
2. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏ —Å–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –∫–∞–º–ø–∞–Ω–∏—é
3. –¢–µ–ø–µ—Ä—å –∏—Ö –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

#### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–∞–Ω–≥:
1. –ù–∞–∂–∞—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–Ω–≥"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–Ω–≥:
1. –ù–∞–≤–µ—Å—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —Ä–∞–Ω–≥–∞
2. –ù–∞–∂–∞—Ç—å ‚úèÔ∏è
3. –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª—è
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

#### –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º:
1. –ù–∞–∂–∞—Ç—å "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º"
2. –í—Å–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ä–∞–Ω–≥–∏ —É–¥–∞–ª—è—é—Ç—Å—è
3. –ö–∞–º–ø–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏

### 2. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

#### –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–Ω–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```typescript
import { getUserRankProgress } from "@/lib/ranks";

const progress = await getUserRankProgress(userId, campaignId);
console.log(progress.currentRank);
console.log(progress.isCustomRanks); // true –µ—Å–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ
console.log(progress.allRanks); // –≤—Å–µ —Ä–∞–Ω–≥–∏ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
```

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ä–∞–Ω–≥–∞:
```typescript
import { checkAndPromoteRank } from "@/lib/ranks";

// –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏—Å—Å–∏–∏
const result = await checkAndPromoteRank(userId, campaignId);
if (result?.promoted) {
  console.log("–ü–æ–≤—ã—à–µ–Ω –¥–æ —Ä–∞–Ω–≥–∞:", result.newRank.name);
}
```

#### –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ä–∞–Ω–≥ —á–µ—Ä–µ–∑ API:
```typescript
const response = await fetch(`/api/campaigns/${campaignId}/ranks`, {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    level: 6,
    name: "–õ–µ–≥–µ–Ω–¥–∞",
    title: "–ú–∏—Ñ–∏—á–µ—Å–∫–∏–π –≥–µ—Ä–æ–π",
    minExperience: 2000,
    minMissions: 20,
    rewards: { mana: 1000 },
  }),
});
```

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
cd app
npx prisma migrate dev --name add_campaign_ranks_customization
npx prisma generate
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- –ù–æ–≤–æ–µ –ø–æ–ª–µ `campaignId` –≤ —Ç–∞–±–ª–∏—Ü–µ `Rank`
- –ù–æ–≤–æ–µ –ø–æ–ª–µ `iconUrl` –≤ —Ç–∞–±–ª–∏—Ü–µ `Rank`
- –°–≤—è–∑—å –º–µ–∂–¥—É `Campaign` –∏ `Rank`
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
- –í—Å–µ —Ç–µ–∫—É—â–∏–µ —Ä–∞–Ω–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ (`campaignId = null`)
- –ù–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–∞–º–ø–∞–Ω–∏—è–º–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

### üéØ –î–ª—è –±–∏–∑–Ω–µ—Å–∞:
- **–ì–∏–±–∫–æ—Å—Ç—å**: –∫–∞–∂–¥–∞—è –∫–∞–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ—é —Å–∏—Å—Ç–µ–º—É –º–æ—Ç–∏–≤–∞—Ü–∏–∏
- **–ë—Ä–µ–Ω–¥–∏–Ω–≥**: —Ä–∞–Ω–≥–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é –∫—É–ª—å—Ç—É—Ä—É
- **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Ä–∞–Ω–≥–æ–≤

### üé® –î–ª—è HR:
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI –±–µ–∑ –∫–æ–¥–∞
- **–°–∫–æ—Ä–æ—Å—Ç—å**: –≥–æ—Ç–æ–≤—ã–µ —Ç–µ–º—ã –∑–∞ 1 –∫–ª–∏–∫
- **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ø–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –Ω–∞–≥—Ä–∞–¥

### üë®‚Äçüíª –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: TypeScript —Ç–∏–ø—ã
- **Fallback**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º
- **API**: RESTful endpoints —Å validation

### üë§ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å**: —Ç–µ—Ä–º–∏–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–º–∞—Ç–∏–∫–µ
- **–ú–æ—Ç–∏–≤–∞—Ü–∏—è**: –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç—Ä–∞–∂—ë–Ω
- **–î–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å**: —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°—Ç–∞—Ä—Ç–∞–ø (–º–æ–ª–æ–¥–∞—è –∫–æ–º–∞–Ω–¥–∞)
```typescript
// –¢–µ–º–∞: Cyberpunk Hub
// –†–∞–Ω–≥–∏: –ù–æ–≤–∏—á–æ–∫ ‚Üí –•–∞–∫–µ—Ä ‚Üí Netrunner ‚Üí –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä ‚Üí –õ–µ–≥–µ–Ω–¥–∞
// –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è: High
// –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è: "–†–µ–ø—É—Ç–∞—Ü–∏—è", "–ö—Ä–µ–¥–∏—Ç—ã", "–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞"
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è (—Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä—ã)
```typescript
// –¢–µ–º–∞: Corporate Metropolis
// –†–∞–Ω–≥–∏: –°—Ç–∞–∂—ë—Ä ‚Üí –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç ‚Üí Senior ‚Üí –ú–µ–Ω–µ–¥–∂–µ—Ä ‚Üí –î–∏—Ä–µ–∫—Ç–æ—Ä
// –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è: Low
// –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è: "KPI", "–ë–æ–Ω—É—Å—ã", "–°—Ç–∞—Ç—É—Å"
```

### –ü—Ä–∏–º–µ—Ä 3: ESG –ø—Ä–æ–≥—Ä–∞–º–º–∞
```typescript
// –¢–µ–º–∞: ESG Mission
// –†–∞–Ω–≥–∏: –í–æ–ª–æ–Ω—Ç—ë—Ä ‚Üí –ê–∫—Ç–∏–≤–∏—Å—Ç ‚Üí –ê–º–±–∞—Å—Å–∞–¥–æ—Ä ‚Üí –•—Ä–∞–Ω–∏—Ç–µ–ª—å ‚Üí –í–∏–∑–∏–æ–Ω–µ—Ä
// –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è: Balanced
// –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è: "–í–∫–ª–∞–¥", "–ò–º–ø–∞–∫—Ç", "–°—Ç–∞—Ç—É—Å"
```

## Roadmap (–±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- [ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏–∫–æ–Ω–æ–∫ —Ä–∞–Ω–≥–æ–≤ (drag & drop)
- [ ] –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç —Å–∏—Å—Ç–µ–º —Ä–∞–Ω–≥–æ–≤ –º–µ–∂–¥—É –∫–∞–º–ø–∞–Ω–∏—è–º–∏
- [ ] –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–Ω–≥–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∫–∞–¥–µ—Ç–∞
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–Ω–≥–æ–≤ (audit log)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- [ ] AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –æ–ø–∏—Å–∞–Ω–∏–π —Ä–∞–Ω–≥–æ–≤
- [ ] –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–Ω–≥–∏ (event-based)
- [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤ –≤ –æ–¥–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
- [ ] –†–∞–Ω–≥–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (seasonal)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Next.js API Routes, Prisma ORM
- **Database**: PostgreSQL —Å JSON support
- **Frontend**: React, TypeScript, Framer Motion
- **Styling**: Tailwind CSS
- **Icons**: Lucide React

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π**: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å level —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–Ω–≥–∞ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–∏–µ/—Å–æ–∑–¥–∞–Ω–∏–µ)
2. **–ú–∏–≥—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–µ–º —É—Ä–æ–≤–Ω–µ
3. **–ò–∫–æ–Ω–∫–∏**: —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ `/public/ranks/`

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–Ω–≥–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –û–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ—Å—Ç–æ—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.

---

**–ê–≤—Ç–æ—Ä**: AI Development Team  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 1 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Production Ready

