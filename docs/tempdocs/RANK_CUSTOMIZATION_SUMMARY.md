# ‚úÖ –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤ - –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

> **–î–∞—Ç–∞:** 1 –æ–∫—Ç—è–±—Ä—è 2025  
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û - –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ  
> **–í—Ä–µ–º—è:** ~4 —á–∞—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–Ω–≥–æ–≤ –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –°–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã (5 —Ç–µ–º)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ UI

---

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Prisma Schema)
```prisma
model Rank {
  id                   String   @id @default(cuid())
  campaignId           String? // null = –≥–ª–æ–±–∞–ª—å–Ω—ã–π
  level                Int
  name                 String
  title                String
  description          String?
  iconUrl              String? // –ö–∞—Å—Ç–æ–º–Ω–∞—è –∏–∫–æ–Ω–∫–∞
  minExperience        Int      @default(0)
  minMissions          Int      @default(0)
  requiredCompetencies Json?
  rewards              Json?
  
  @@unique([campaignId, level])
}
```

### 2. API Endpoints (4 –º–∞—Ä—à—Ä—É—Ç–∞)
```
GET    /api/campaigns/[id]/ranks              - –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–Ω–≥–∏
POST   /api/campaigns/[id]/ranks              - –°–æ–∑–¥–∞—Ç—å —Ä–∞–Ω–≥
PUT    /api/campaigns/[id]/ranks/[rankId]     - –û–±–Ω–æ–≤–∏—Ç—å
DELETE /api/campaigns/[id]/ranks/[rankId]     - –£–¥–∞–ª–∏—Ç—å
POST   /api/campaigns/[id]/ranks/clone-defaults - –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
```

### 3. –õ–æ–≥–∏–∫–∞ —Ä–∞–Ω–≥–æ–≤ (lib/ranks.ts)
```typescript
// –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç campaign-specific —Ä–∞–Ω–≥–∏
checkAndPromoteRank(userId, campaignId?)
getUserRankProgress(userId, campaignId?)
```

### 4. –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã (5 —Ç–µ–º)

#### üåå Galactic Academy
1. –ò—Å–∫–∞—Ç–µ–ª—å ‚Üí 2. –ü–∏–ª–æ—Ç-–∫–∞–Ω–¥–∏–¥–∞—Ç ‚Üí 3. –ö–∞–¥–µ—Ç ‚Üí 4. –ù–∞–≤–∏–≥–∞—Ç–æ—Ä ‚Üí 5. –ö–∞–ø–∏—Ç–∞–Ω

#### üè¢ Corporate Metropolis
1. –°—Ç–∞–∂—ë—Ä ‚Üí 2. –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç ‚Üí 3. –°—Ç–∞—Ä—à–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç ‚Üí 4. –ú–µ–Ω–µ–¥–∂–µ—Ä ‚Üí 5. –î–∏—Ä–µ–∫—Ç–æ—Ä

#### üå± ESG Mission
1. –í–æ–ª–æ–Ω—Ç—ë—Ä ‚Üí 2. –ê–∫—Ç–∏–≤–∏—Å—Ç ‚Üí 3. –ê–º–±–∞—Å—Å–∞–¥–æ—Ä ‚Üí 4. –•—Ä–∞–Ω–∏—Ç–µ–ª—å ‚Üí 5. –í–∏–∑–∏–æ–Ω–µ—Ä

#### ü§ñ Cyberpunk Hub
1. –ù–æ–≤–∏—á–æ–∫ ‚Üí 2. –•–∞–∫–µ—Ä ‚Üí 3. Netrunner ‚Üí 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä ‚Üí 5. –õ–µ–≥–µ–Ω–¥–∞

#### üî¨ Scientific Expedition
1. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç ‚Üí 2. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å ‚Üí 3. –£—á—ë–Ω—ã–π ‚Üí 4. –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä ‚Üí 5. –ê–∫–∞–¥–µ–º–∏–∫

### 5. UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
**RankCustomizationPanel** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å:
- –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–º –≤—Å–µ—Ö —Ä–∞–Ω–≥–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏)
- Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ–º/—É–¥–∞–ª–µ–Ω–∏–µ–º —Ä–∞–Ω–≥–æ–≤
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–±–æ—Ä–æ–≤
- –ê–Ω–∏–º–∞—Ü–∏—è–º–∏ (Framer Motion)

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–í—Å—Ç—Ä–æ–µ–Ω–æ –≤ **CampaignSettingsPanel**:
- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ä–∞–Ω–≥–æ–≤"
- –†–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `themeConfig.customRanks`

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è HR-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–Ω–≥–∏ —Ç–µ–º—ã (–±—ã—Å—Ç—Ä–æ)
1. –û—Ç–∫—Ä—ã—Ç—å Campaign Settings
2. –†–∞—Å–∫—Ä—ã—Ç—å "–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ä–∞–Ω–≥–æ–≤"
3. –ù–∞–∂–∞—Ç—å **"–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–Ω–≥–∏ —Ç–µ–º—ã"**
4. –ì–æ—Ç–æ–≤–æ! ‚ú®

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
1. –ù–∞–∂–∞—Ç—å **"–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ"**
2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–Ω–≥:
   - –ù–∞–∑–≤–∞–Ω–∏–µ, —Ç–∏—Ç—É–ª, –æ–ø–∏—Å–∞–Ω–∏–µ
   - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (XP, –º–∏—Å—Å–∏–∏, –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏)
   - –ù–∞–≥—Ä–∞–¥—ã (–º–∞–Ω–∞, –±–µ–π–¥–∂–∏)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è
1. –ù–∞–∂–∞—Ç—å **"+ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–Ω–≥"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

```typescript
// –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–Ω–≥–∏ —Å —É—á—ë—Ç–æ–º –∫–∞–º–ø–∞–Ω–∏–∏
const progress = await getUserRankProgress(userId, campaignId);

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–Ω–≥–∏ –∫–∞–º–ø–∞–Ω–∏–∏)
const result = await checkAndPromoteRank(userId, campaignId);

// –°–æ–∑–¥–∞—Ç—å —Ä–∞–Ω–≥ —á–µ—Ä–µ–∑ API
await fetch(`/api/campaigns/${id}/ranks`, {
  method: "POST",
  body: JSON.stringify({
    level: 3,
    name: "–ö–∞–ø–∏—Ç–∞–Ω",
    title: "–ö–æ–º–∞–Ω–¥–∏—Ä",
    minExperience: 500,
    minMissions: 8,
    rewards: { mana: 300 }
  })
});
```

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–¥–ª—è —Ä–∞–±–æ—Ç—ã):
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
cd app
npx prisma migrate dev --name add_campaign_ranks_customization
npx prisma generate

# 2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å seed –¥–∞–Ω–Ω—ã–µ
npm run db:seed
```

### –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–¥–ª—è production):
1. –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏ —Ä–∞–Ω–≥–æ–≤ –≤ `/public/ranks/`
2. –°–æ–∑–¥–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏–∫–æ–Ω–æ–∫
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–Ω–≥–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∫–∞–¥–µ—Ç–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª–æ–≤ | –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|--------|------------|--------|
| Database Schema | 1 | ~30 | ‚úÖ |
| API Endpoints | 4 | ~350 | ‚úÖ |
| Business Logic | 1 | ~150 | ‚úÖ |
| Theme Presets | 1 | ~280 | ‚úÖ |
| UI Component | 1 | ~400 | ‚úÖ |
| Integration | 1 | ~50 | ‚úÖ |
| Seed Data | 1 | ~100 | ‚úÖ |
| Documentation | 2 | ~600 | ‚úÖ |
| **–ò–¢–û–ì–û** | **12** | **~1960** | **100%** |

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è –±–∏–∑–Ω–µ—Å–∞:
- **–ì–∏–±–∫–æ—Å—Ç—å**: –∫–∞–∂–¥–∞—è –∫–∞–º–ø–∞–Ω–∏—è —Å–æ —Å–≤–æ–µ–π –º–æ—Ç–∏–≤–∞—Ü–∏–µ–π
- **–ë—Ä–µ–Ω–¥–∏–Ω–≥**: —Ä–∞–Ω–≥–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç –∫—É–ª—å—Ç—É—Ä—É –∫–æ–º–ø–∞–Ω–∏–∏
- **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

### –î–ª—è HR:
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UI –±–µ–∑ –∫–æ–¥–∞
- **–°–∫–æ—Ä–æ—Å—Ç—å**: –≥–æ—Ç–æ–≤—ã–µ —Ç–µ–º—ã –∑–∞ 1 –∫–ª–∏–∫
- **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ø–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: TypeScript everywhere
- **Fallback**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º
- **REST API**: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ endpoints

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å**: —Ç–µ—Ä–º–∏–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–º–∞—Ç–∏–∫–µ
- **–ú–æ—Ç–∏–≤–∞—Ü–∏—è**: –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç—Ä–∞–∂—ë–Ω
- **–î–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å**: —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/RANK_CUSTOMIZATION_GUIDE.md`

–í–∫–ª—é—á–∞–µ—Ç:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã
- API Reference
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏
- Roadmap –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–Ω–≥–æ–≤ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** –∏ **–≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**.

–í—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π UI
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞ –∫–∞–º–ø–∞–Ω–∏—è—Ö

**–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥–∞—è –∫–∞–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –º–æ—Ç–∏–≤–∞—Ü–∏–∏!** üöÄ

---

*–ê–≤—Ç–æ—Ä: AI Development Team*  
*–î–∞—Ç–∞: 1 –æ–∫—Ç—è–±—Ä—è 2025*

