## Mission Builder Feature Plan

### 1. Template System Expansion
- [x] **Library surfacing**: интегрировать содержимое `mission_builder_node_library.md` в UI (категории, поиск, превью). _Выполнено: добавлены вкладки, поиск и фильтры в `NodeLibraryPanel`._
- [x] **Быстрые пакеты**: добавить коллекции (`onboarding-bundle`, `engagement-bundle`, `assessment-bundle`) с авторасстановкой связей и координат. _Выполнено: коллекции создают миссии и зависимости через конструктор._
- [x] **Пользовательские шаблоны**: предусмотреть CRUD и импорт/экспорт JSON для кастомных кампаний.

### 2. Canvas UX Enhancements
- [ ] **Управляемая сетка**: snap-to-grid, автоцентрирование, автолейаут веток.
- [ ] **Управление состоянием**: undo/redo, история изменений, подсветка зависимостей.
- [ ] **Холодные старты**: подсказки по наградам и рангу, отображение потенциальных конфликтов связей.

### 3. Test Mode 2.0
- [ ] **Сохранение сессий**: хранить несколько прогонов, сравнивать результаты, export логов.
- [ ] **Журнал действий**: timeline по шагам кадета, время прохождения, статусы зависимостей.
- [ ] **A/B сценарии**: переключаться между конфигурациями миссий и видеть влияние на конверсию.

### 4. AI Copilot Integration
- [ ] **Нарратив**: генерация названий/описаний миссий, сюжетной линии кампании.
- [ ] **Графика**: генерация иконок, фонов и вариаций тем (космос, киберпанк).
- [ ] **Экономика**: подсказки по наградам, баланс XP/маны, рекомендации по компетенциям.

### 5. Analytics & Health Metrics
- [ ] **Funnel heatmap**: визуализировать конверсии на карте миссий, выделять узкие места.
- [ ] **Next Best Mission**: рекомендации на основе данных игрока/теста.
- [ ] **Дашборд трендов**: CR, среднее время, drop-off точки по кампаниям.

### 6. Backend & Platform Work
- [ ] **Тестовые пользователи**: вынос идентификатора из хардкода, хранение в настройках кампании.
- [ ] **Bulk операции**: массовое обновление наград, копирование кампаний, пакетное создание миссий.
- [ ] **Очереди**: фоновые задания для генерации AI-контента и пакетной инициализации.

### Immediate Next Steps
1. Подтвердить приоритеты с HR/архитекторами (какие фичи нужны к демо).
2. Разбить top-3 инициативы на задачи (UI, API, данные).
3. Настроить трекинг прогресса (issue tracker/Notion) и приступить к реализации.
