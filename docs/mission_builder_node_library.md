# Библиотека узлов и шаблонов карт

## Цели
- Снизить время запуска кампаний для HR-методолога
- Обеспечить единый визуальный и нарративный стиль миссий
- Повысить качество сценариев за счёт готовых best practices

## Структура библиотеки

### 1. Шаблоны миссий
Коллекция преднастроенных узлов с типичными настройками:
- `upload-docs` — сбор документов
- `welcome-quiz` — вступительный квиз
- `offline-meetup` — посещение офлайн мероприятия
- `custom-creative` — творческое задание

Каждый шаблон содержит:
- Тип миссии (`missionType`)
- Базовые награды (XP, мана)
- Тип подтверждения
- Минимальный ранг
- Нарративный черновик описания

### 2. Коллекции миссий
Группы, объединяющие несколько узлов для типовых этапов:
- `onboarding-bundle` — быстрый старт для новых кадетов
- `engagement-bundle` — повышенное вовлечение
- `assessment-bundle` — оценочные активности

Коллекции добавляются на карту одним действием, расставляя миссии с предопределёнными связями и координатами.

### 3. Шаблоны карт
Предопределённые структуры веток (звёздная карта), которые можно редактировать:
- `linear-path` — последовательная цепочка из 5 узлов
- `hub-and-spoke` — центральная миссия с ответвлениями
- `branching-dual` — две параллельные ветки, сходящиеся в финале

При выборе шаблона отображается предпросмотр, после чего миссии создаются и становятся доступными для редактирования.

## UX-паттерн
- Сайдбар “Библиотека” (как в прототипе `NodeLibraryPanel`) с категориями и поиском
- Drag & drop или кнопка “Добавить на карту”
- Подсказки с описанием, наградами и рекомендуемым контекстом
- Возможность сохранения пользовательских шаблонов кампании

## Техническая реализация
- Справочник шаблонов (`/data/node-templates.ts`) с типами `MissionTemplate`, `MissionCollection`, `MapTemplate`
- API для CRUD пользовательских шаблонов (таблица `MissionTemplates`)
- Импорт/экспорт шаблонов в JSON для обмена между командами
- UI-компоненты: `NodeLibraryPanel`, `TemplatePreviewModal`, `TemplateGrid`

## Дальнейшие шаги
1. Реализовать справочник шаблонов миссий и коллекций (статично)
2. Добавить сохранение пользовательских шаблонов в БД
3. Расширить React Flow обработку для пакетного добавления миссий и связей
4. Подготовить AI-промпты для генерации текстов по выбранным шаблонам
5. Запланировать визуальные темы для миникарты и фона (космос, киберпанк и т.д.)


