import type { CampaignThemeConfig, PersonaPreset, ThemePreset, RankConfig } from "@/types/campaignTheme";

// Default rank configurations for different themes
export const DEFAULT_RANKS: Record<string, RankConfig[]> = {
  "galactic-academy": [
    {
      level: 1,
      name: "Искатель",
      title: "Космический скиталец",
      description: "Начало великого путешествия среди звёзд",
      iconUrl: "/ranks/galactic/seeker.svg",
      minExperience: 0,
      minMissions: 0,
      rewards: { mana: 50 },
    },
    {
      level: 2,
      name: "Пилот-кандидат",
      title: "Новичок среди звёзд",
      description: "Первые шаги к освоению космических маршрутов",
      iconUrl: "/ranks/galactic/cadet.svg",
      minExperience: 100,
      minMissions: 2,
      rewards: { mana: 100 },
    },
    {
      level: 3,
      name: "Кадет",
      title: "Бортовой офицер",
      description: "Полноправный член галактического экипажа",
      iconUrl: "/ranks/galactic/officer.svg",
      minExperience: 300,
      minMissions: 5,
      requiredCompetencies: { "Навигация": 3 },
      rewards: { mana: 200 },
    },
    {
      level: 4,
      name: "Навигатор",
      title: "Звёздный штурман",
      description: "Опытный проводник через неизведанные секторы",
      iconUrl: "/ranks/galactic/navigator.svg",
      minExperience: 600,
      minMissions: 8,
      requiredCompetencies: { "Навигация": 5, "Аналитика": 3 },
      rewards: { mana: 300, badge: "stellar_compass" },
    },
    {
      level: 5,
      name: "Капитан",
      title: "Командир звёздного корабля",
      description: "Лидер экспедиции и вдохновитель команды",
      iconUrl: "/ranks/galactic/captain.svg",
      minExperience: 1000,
      minMissions: 12,
      requiredCompetencies: { "Лидерство": 5, "Навигация": 7 },
      rewards: { mana: 500, badge: "captain_wings" },
    },
  ],
  "corporate-metropolis": [
    {
      level: 1,
      name: "Стажёр",
      title: "Младший специалист",
      description: "Старт карьеры в корпоративном мире",
      iconUrl: "/ranks/corporate/intern.svg",
      minExperience: 0,
      minMissions: 0,
      rewards: { mana: 30 },
    },
    {
      level: 2,
      name: "Специалист",
      title: "Профессионал своего дела",
      description: "Уверенное владение профессиональными навыками",
      iconUrl: "/ranks/corporate/specialist.svg",
      minExperience: 150,
      minMissions: 3,
      rewards: { mana: 80 },
    },
    {
      level: 3,
      name: "Старший специалист",
      title: "Эксперт направления",
      description: "Признанный профессионал с глубокой экспертизой",
      iconUrl: "/ranks/corporate/senior.svg",
      minExperience: 400,
      minMissions: 6,
      requiredCompetencies: { "Профессионализм": 4 },
      rewards: { mana: 150 },
    },
    {
      level: 4,
      name: "Менеджер",
      title: "Руководитель проектов",
      description: "Управление командой и ключевыми проектами",
      iconUrl: "/ranks/corporate/manager.svg",
      minExperience: 800,
      minMissions: 10,
      requiredCompetencies: { "Лидерство": 4, "Управление": 4 },
      rewards: { mana: 250, badge: "team_lead" },
    },
    {
      level: 5,
      name: "Директор",
      title: "Стратегический лидер",
      description: "Формирование стратегии и корпоративной культуры",
      iconUrl: "/ranks/corporate/director.svg",
      minExperience: 1500,
      minMissions: 15,
      requiredCompetencies: { "Лидерство": 7, "Стратегия": 5 },
      rewards: { mana: 500, badge: "strategic_vision" },
    },
  ],
  "esg-mission": [
    {
      level: 1,
      name: "Волонтёр",
      title: "Инициатор изменений",
      description: "Первый шаг к созданию лучшего мира",
      iconUrl: "/ranks/esg/volunteer.svg",
      minExperience: 0,
      minMissions: 0,
      rewards: { mana: 40 },
    },
    {
      level: 2,
      name: "Активист",
      title: "Защитник природы",
      description: "Активное участие в экологических инициативах",
      iconUrl: "/ranks/esg/activist.svg",
      minExperience: 120,
      minMissions: 3,
      rewards: { mana: 100 },
    },
    {
      level: 3,
      name: "Амбассадор",
      title: "Голос перемен",
      description: "Вдохновляете других на осознанные действия",
      iconUrl: "/ranks/esg/ambassador.svg",
      minExperience: 350,
      minMissions: 6,
      requiredCompetencies: { "Коммуникация": 4, "Ответственность": 3 },
      rewards: { mana: 180 },
    },
    {
      level: 4,
      name: "Хранитель",
      title: "Защитник экосистемы",
      description: "Системная работа по сохранению ресурсов",
      iconUrl: "/ranks/esg/guardian.svg",
      minExperience: 700,
      minMissions: 10,
      requiredCompetencies: { "Ответственность": 6, "Лидерство": 4 },
      rewards: { mana: 300, badge: "earth_guardian" },
    },
    {
      level: 5,
      name: "Визионер",
      title: "Архитектор будущего",
      description: "Создаёте устойчивую модель для следующих поколений",
      iconUrl: "/ranks/esg/visionary.svg",
      minExperience: 1200,
      minMissions: 15,
      requiredCompetencies: { "Инновации": 6, "Ответственность": 8 },
      rewards: { mana: 500, badge: "sustainable_future" },
    },
  ],
  "cyberpunk-hub": [
    {
      level: 1,
      name: "Новичок",
      title: "Уровень доступа: Basic",
      description: "Первый вход в цифровую реальность",
      iconUrl: "/ranks/cyber/newbie.svg",
      minExperience: 0,
      minMissions: 0,
      rewards: { mana: 50 },
    },
    {
      level: 2,
      name: "Хакер",
      title: "Уровень доступа: Elevated",
      description: "Освоение основных протоколов взлома",
      iconUrl: "/ranks/cyber/hacker.svg",
      minExperience: 180,
      minMissions: 3,
      rewards: { mana: 120 },
    },
    {
      level: 3,
      name: "Netrunner",
      title: "Уровень доступа: Advanced",
      description: "Свободная навигация в киберпространстве",
      iconUrl: "/ranks/cyber/netrunner.svg",
      minExperience: 450,
      minMissions: 7,
      requiredCompetencies: { "Программирование": 5 },
      rewards: { mana: 250 },
    },
    {
      level: 4,
      name: "Архитектор",
      title: "Уровень доступа: Elite",
      description: "Создание и модификация виртуальных миров",
      iconUrl: "/ranks/cyber/architect.svg",
      minExperience: 900,
      minMissions: 11,
      requiredCompetencies: { "Программирование": 7, "Креативность": 5 },
      rewards: { mana: 400, badge: "code_architect" },
    },
    {
      level: 5,
      name: "Легенда",
      title: "Уровень доступа: Omniscient",
      description: "Имя, которое знают все в цифровом подполье",
      iconUrl: "/ranks/cyber/legend.svg",
      minExperience: 1500,
      minMissions: 16,
      requiredCompetencies: { "Программирование": 10, "Репутация": 8 },
      rewards: { mana: 700, badge: "cyber_legend" },
    },
  ],
  "scientific-expedition": [
    {
      level: 1,
      name: "Ассистент",
      title: "Младший исследователь",
      description: "Начало научной карьеры",
      iconUrl: "/ranks/science/assistant.svg",
      minExperience: 0,
      minMissions: 0,
      rewards: { mana: 35 },
    },
    {
      level: 2,
      name: "Исследователь",
      title: "Научный сотрудник",
      description: "Самостоятельное проведение экспериментов",
      iconUrl: "/ranks/science/researcher.svg",
      minExperience: 140,
      minMissions: 3,
      rewards: { mana: 90 },
    },
    {
      level: 3,
      name: "Учёный",
      title: "Кандидат наук",
      description: "Признанный вклад в научное сообщество",
      iconUrl: "/ranks/science/scientist.svg",
      minExperience: 380,
      minMissions: 7,
      requiredCompetencies: { "Аналитика": 5, "Методология": 4 },
      rewards: { mana: 170 },
    },
    {
      level: 4,
      name: "Профессор",
      title: "Доктор наук",
      description: "Ведущий эксперт в своей области",
      iconUrl: "/ranks/science/professor.svg",
      minExperience: 750,
      minMissions: 11,
      requiredCompetencies: { "Аналитика": 7, "Публикации": 5 },
      rewards: { mana: 280, badge: "scientific_excellence" },
    },
    {
      level: 5,
      name: "Академик",
      title: "Член академии наук",
      description: "Высшее признание научного сообщества",
      iconUrl: "/ranks/science/academician.svg",
      minExperience: 1300,
      minMissions: 16,
      requiredCompetencies: { "Аналитика": 10, "Инновации": 8 },
      rewards: { mana: 500, badge: "nobel_level" },
    },
  ],
};

export const THEME_PRESETS: ThemePreset[] = [
  {
    id: "galactic-academy",
    title: "Галактическая академия",
    description: "Космический визуал с фиолетовыми акцентами и нарративом кадетов",
    recommendedFunnel: ["onboarding", "growth"],
    spotlightColor: "#8B5CF6",
    assets: {
      background: "/themes/galactic-academy/background.svg", // TODO: Replace with .png
      icon: "/themes/galactic-academy/icon.svg",
      audio: "/themes/galactic-academy/ambient.mp3",
    },
    config: {
      themeId: "galactic-academy",
      funnelType: "onboarding",
      personas: ["students"],
      gamificationLevel: "high",
      motivationOverrides: {
        xp: "Опыт",
        mana: "Мана",
        rank: "Ранг",
      },
      competencyOverrides: {
        "Аналитическое мышление": "Навигация",
        "Командная работа": "Работа в экипаже",
        "Лидерство": "Командование",
        "Стрессоустойчивость": "Стрессоустойчивость в космосе",
        "Коммуникация": "Дипломатия",
        "Креативность": "Импровизация",
        "Адаптивность": "Адаптация к невесомости",
        "Техническая грамотность": "Пилотирование",
      },
      palette: {
        primary: "#8B5CF6",
        secondary: "#38BDF8",
        surface: "rgba(23, 16, 48, 0.85)",
      },
      assets: {
        background: "/themes/galactic-academy/background.svg",
        icon: "/themes/galactic-academy/icon.svg",
        audio: "/themes/galactic-academy/ambient.mp3",
      },
    },
  },
  {
    id: "corporate-metropolis",
    title: "Корпоративный мегаполис",
    description: "Строгий стиль, метрики KPI и минимальная геймификация",
    recommendedFunnel: ["onboarding", "engagement"],
    spotlightColor: "#38BDF8",
    assets: {
      background: "/themes/corporate-metropolis/background.svg", // TODO: Replace with .png
      icon: "/themes/corporate-metropolis/icon.svg",
      audio: "/themes/corporate-metropolis/ambient.mp3",
    },
    config: {
      themeId: "corporate-metropolis",
      funnelType: "engagement",
      personas: ["professionals"],
      gamificationLevel: "low",
      motivationOverrides: {
        xp: "KPI",
        mana: "Бонусы",
        rank: "Статус",
      },
      competencyOverrides: {
        "Аналитическое мышление": "Управление данными",
        "Командная работа": "Teamwork",
        "Лидерство": "Project Management",
        "Стрессоустойчивость": "Work-Life Balance",
        "Коммуникация": "Stakeholder Management",
        "Креативность": "Инновационное мышление",
        "Адаптивность": "Гибкость",
        "Техническая грамотность": "Профессионализм",
      },
      palette: {
        primary: "#38BDF8",
        secondary: "#0EA5E9",
        surface: "rgba(8, 16, 32, 0.9)",
      },
      assets: {
        background: "/themes/corporate-metropolis/background.svg",
        icon: "/themes/corporate-metropolis/icon.svg",
        audio: "/themes/corporate-metropolis/ambient.mp3",
      },
    },
  },
  {
    id: "esg-mission",
    title: "ESG-миссия",
    description: "Зелёный мотив, акцент на вклад и социальный импакт",
    recommendedFunnel: ["esg", "growth"],
    spotlightColor: "#22C55E",
    assets: {
      background: "/themes/esg-mission/background.svg", // TODO: Replace with .png
      icon: "/themes/esg-mission/icon.svg",
      audio: "/themes/esg-mission/ambient.mp3",
    },
    config: {
      themeId: "esg-mission",
      funnelType: "esg",
      personas: ["volunteers"],
      gamificationLevel: "balanced",
      motivationOverrides: {
        xp: "Вклад",
        mana: "Импакт",
        rank: "Статус",
      },
      competencyOverrides: {
        "Аналитическое мышление": "Системное мышление",
        "Командная работа": "Коллаборация",
        "Лидерство": "Влияние на сообщество",
        "Стрессоустойчивость": "Устойчивость к выгоранию",
        "Коммуникация": "Advocacy",
        "Креативность": "Поиск решений",
        "Адаптивность": "Гибкость подхода",
        "Техническая грамотность": "Экологическая грамотность",
      },
      palette: {
        primary: "#22C55E",
        secondary: "#4ADE80",
        surface: "rgba(6, 24, 18, 0.9)",
      },
      assets: {
        background: "/themes/esg-mission/background.svg",
        icon: "/themes/esg-mission/icon.svg",
        audio: "/themes/esg-mission/ambient.mp3",
      },
    },
  },
  {
    id: "cyberpunk-hub",
    title: "Киберпанк-хаб",
    description: "Неоновые акценты, цифровая эстетика и технологичный нарратив",
    recommendedFunnel: ["engagement", "assessment"],
    spotlightColor: "#FF00FF",
    assets: {
      background: "/themes/cyberpunk-hub/background.svg", // TODO: Replace with .png
      icon: "/themes/cyberpunk-hub/icon.svg",
      audio: "/themes/cyberpunk-hub/ambient.mp3",
    },
    config: {
      themeId: "cyberpunk-hub",
      funnelType: "engagement",
      personas: ["professionals", "students"],
      gamificationLevel: "high",
      motivationOverrides: {
        xp: "Репутация",
        mana: "Кредиты",
        rank: "Уровень доступа",
      },
      competencyOverrides: {
        "Аналитическое мышление": "Анализ данных",
        "Командная работа": "Нетворкинг",
        "Лидерство": "Влияние",
        "Стрессоустойчивость": "Стабильность связи",
        "Коммуникация": "Протоколы связи",
        "Креативность": "Хакинг",
        "Адаптивность": "Апгрейд",
        "Техническая грамотность": "Программирование",
      },
      palette: {
        primary: "#FF00FF",
        secondary: "#00FFFF",
        surface: "rgba(10, 5, 20, 0.95)",
      },
      assets: {
        background: "/themes/cyberpunk-hub/background.svg",
        icon: "/themes/cyberpunk-hub/icon.svg",
        audio: "/themes/cyberpunk-hub/ambient.mp3",
      },
    },
  },
  {
    id: "scientific-expedition",
    title: "Научная экспедиция",
    description: "Светлые тона, научная точность и исследовательский дух",
    recommendedFunnel: ["assessment", "growth"],
    spotlightColor: "#06B6D4",
    assets: {
      background: "/themes/scientific-expedition/background.svg", // TODO: Replace with .png
      icon: "/themes/scientific-expedition/icon.svg",
      audio: "/themes/scientific-expedition/ambient.mp3",
    },
    config: {
      themeId: "scientific-expedition",
      funnelType: "assessment",
      personas: ["professionals"],
      gamificationLevel: "balanced",
      motivationOverrides: {
        xp: "Исследовательские очки",
        mana: "Образцы",
        rank: "Научная степень",
      },
      competencyOverrides: {
        "Аналитическое мышление": "Научный метод",
        "Командная работа": "Коллаборация",
        "Лидерство": "Руководство исследованиями",
        "Стрессоустойчивость": "Работа в полевых условиях",
        "Коммуникация": "Академическая коммуникация",
        "Креативность": "Инновационный подход",
        "Адаптивность": "Методологическая гибкость",
        "Техническая грамотность": "Лабораторные навыки",
      },
      palette: {
        primary: "#06B6D4",
        secondary: "#0EA5E9",
        surface: "rgba(240, 249, 255, 0.95)",
      },
      assets: {
        background: "/themes/scientific-expedition/background.svg",
        icon: "/themes/scientific-expedition/icon.svg",
        audio: "/themes/scientific-expedition/ambient.mp3",
      },
    },
  },
];

export const PERSONA_PRESETS: PersonaPreset[] = [
  {
    id: "students",
    title: "Студенты и стажёры",
    description: "Digital natives, любят яркую геймификацию и быстрый фидбек",
    defaultGamification: "high",
    tags: ["emoji", "achievements", "streak"],
  },
  {
    id: "professionals",
    title: "Специалисты 26-35",
    description: "Ценят влияние и развитие, предпочитают баланс геймификации",
    defaultGamification: "balanced",
    tags: ["competencies", "career", "mentor"],
  },
  {
    id: "volunteers",
    title: "Волонтёры и ESG",
    description: "Ориентируются на вклад и признание",
    defaultGamification: "balanced",
    tags: ["impact", "community", "stories"],
  },
];

export function resolveThemePreset(id: string): CampaignThemeConfig | undefined {
  return THEME_PRESETS.find((preset) => preset.id === id)?.config;
}


